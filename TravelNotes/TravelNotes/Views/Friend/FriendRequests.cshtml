@model List<FriendRequest>
<link rel="stylesheet" href="~/css/friendPagesStyle.css">
<h1>交友邀請</h1>
<div id="friendList">
    @if (Model.Count() == 0)
    {
        <p>尚無邀請</p>
    }
    @foreach (var item in Model)
    {
        <div class="friendListUnit">
            <p>邀請者:@item.SenderUserId</p>
            <p>名稱:@item.SenderUser.UserName</p>
            <p>暱稱:@item.SenderUser.Nickname</p>
            <a href="/PersonalPage/PersonalPage/?userId=@item.SenderUser.UserId" style="display: block; border-radius: 100rem;">
                @if (item.SenderUser?.Headshot == null)
                {
                    <img class="rounded-circle" src="/images/userImageDefault.jpg" alt="" style="width:100px;height:100px;">
                }
                else
                {
                    <img class="rounded-circle" src=@item.SenderUser.Headshot alt="" style="width:100px;height:100px;">
                }
            </a>
            @{
                string userId;
                ViewContext.HttpContext.Request.Cookies.TryGetValue("UsernameCookie", out userId);
            }
            @if (item.Status == 0 && userId == ViewContext.HttpContext.Request.Path.Value?.Split("/")[2])
            {
                <div>
                    <button class="acceptFriendRequest">接受邀請</button>
                    <button class="rejectFriendRequest">拒絕邀請</button>
                </div>
            }
        </div>
    }
</div>
<div id="notification"></div>
<script src="~/js/FriendRequest.js" defer></script>